# Configuração SNMP para python-app
# FCAPS - Gerenciamento de Redes

# Informações do sistema
sysLocation    Python Application Container - FCAPS Network
sysContact     admin@fcaps.local
sysName        python-app
sysServices    72

# Comunidade de leitura (SNMPv2c)
rocommunity    public  default
rocommunity6   public  default

# Endereço de escuta
agentaddress   udp:161
agentaddress   udp6:[::1]:161

# Acesso ao sistema
view   systemonly  included   .1.3.6.1.2.1.1
view   systemonly  included   .1.3.6.1.2.1.25.1

# MIBs disponíveis
view   systemonly  included   .1.3.6.1.2.1.2
view   systemonly  included   .1.3.6.1.2.1.4
view   systemonly  included   .1.3.6.1.2.1.6
view   systemonly  included   .1.3.6.1.2.1.25

# Permissões
rouser   nobody noauth

# Configurações de log
dontLogTCPWrappersConnects yes

# Persistência de dados
persistentDir /var/net-snmp

# Informações de processo
proc python
proc snmpd

# Métricas de carga
load 5 5 5

# Informações de disco
disk /

# Extensões customizadas para aplicação Python
extend app-status /bin/sh -c "ps aux | grep -c '[p]ython app.py'"
extend app-port /bin/sh -c "netstat -an | grep -c ':5000.*LISTEN'"
extend app-memory /bin/sh -c "ps aux | grep '[p]ython app.py' | awk '{print \$6}'"
